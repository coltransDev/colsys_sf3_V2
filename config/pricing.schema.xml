<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" noxsd="true" package="lib.model.pricing">	
	<table name="tb_trayectos" phpName="Trayecto">
		<column name="oid" type="integer" required="true"  />
		<column name="ca_idtrayecto" type="integer" primaryKey="true"  />			
		<column name="ca_origen" type="varchar" required="true" size="8"/>	
		<column name="ca_destino" type="varchar" required="true" size="8"/>	
		<column name="ca_idlinea" type="integer" required="true"/>		
		<column name="ca_transporte" type="varchar" required="true"  />
		<column name="ca_terminal" type="varchar" />
		<column name="ca_impoexpo" type="varchar" />
		<column name="ca_frecuencia" type="varchar" />
		<column name="ca_tiempotransito" type="varchar"  />
		<column name="ca_modalidad" type="varchar"   />
		<column name="ca_fchcreado" type="date"   />
		<column name="ca_idtarifas" type="integer"   />
		<column name="ca_observaciones" type="varchar"   />
		<column name="ca_idagente" type="integer"   />			
		<column name="ca_idmoneda" type="varchar" size="3"  />
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_aplicacion" type="varchar"   />
		
									
		<foreign-key foreignTable="tb_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>	
		<foreign-key foreignTable="tb_agentes">
			<reference local="ca_idagente" foreign="ca_idagente"/>
		</foreign-key>		
	</table>
	
	<table name="tb_pricfletes" phpName="PricFlete">		
		<column name="ca_idtrayecto" type="integer" required="true"  primaryKey="true"/>			
		<column name="ca_idconcepto" type="integer" required="true" primaryKey="true"/>	
		<column name="ca_vlrneto" type="numeric" />		
		<column name="ca_vlrminimo" type="numeric" />	
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_fchcreado" type="timestamp" />		
		<column name="ca_usucreado" type="varchar" />
		<column name="ca_estado" type="integer"   />	
		<column name="ca_aplicacion" type="varchar" />						
		<foreign-key foreignTable="tb_trayectos">
			<reference local="ca_idtrayecto" foreign="ca_idtrayecto"/>
		</foreign-key>	
		<foreign-key foreignTable="tb_conceptos">
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>								
	</table>	
		
	<table name="tb_pricrecargosxconcepto" phpName="PricRecargoxConcepto">		
		<column name="ca_idtrayecto" type="integer" required="true"  primaryKey="true"/>			
		<column name="ca_idconcepto" type="integer" required="true" primaryKey="true"/>
		<column name="ca_idrecargo" type="integer" required="true" primaryKey="true"/>	
		<column name="ca_vlrrecargo" type="numeric" required="true"/>
		<column name="ca_vlrminimo" type="numeric" />	
		<column name="ca_aplicacion" type="varchar" />				
		<column name="ca_observaciones" type="varchar"   />	
		<column name="ca_idmoneda" type="varchar" size="3"   />	
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />

		<column name="ca_fchcreado" type="timestamp" />
		<column name="ca_usucreado" type="varchar" />
		
		<foreign-key foreignTable="tb_pricfletes">
			<reference local="ca_idtrayecto" foreign="ca_idtrayecto"/>
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>
		
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>	
									
	</table>	
	
	<table name="tb_pricarchivos" phpName="PricArchivo">		
		<column name="ca_idarchivo" type="varchar" required="true"  primaryKey="true" autoIncrement="true"/>			
		<column name="ca_idtrafico" type="varchar" required="true" />
		<column name="ca_nombre" type="varchar" required="true" />	
		<column name="ca_descripcion" type="varchar" required="true" />
		<column name="ca_tamano" type="numeric" />
		<column name="ca_tipo" type="varchar" />	
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />		
		<column name="ca_datos" type="blob" />				
		<column name="ca_transporte" type="varchar" />				
		
		<foreign-key foreignTable="tb_traficos">
			<reference local="ca_idtrafico" foreign="ca_idtrafico"/>
		</foreign-key>	
								
	</table>
	
	<table name="tb_pricrecargosxciudad" phpName="PricRecargosxCiudad">		
		<column name="ca_idtrafico" type="varchar" required="true"  primaryKey="true"/>
		<column name="ca_idciudad" type="varchar" required="true"  primaryKey="true"/>			
		<column name="ca_idrecargo" type="integer" required="true" primaryKey="true"/>
		<column name="ca_modalidad" type="varchar" required="true" primaryKey="true"/>			
		<column name="ca_vlrrecargo" type="numeric" />
		<column name="ca_vlrminimo" type="numeric" />			
		<column name="ca_aplicacion" type="varchar" />
		<column name="ca_observaciones" type="varchar" />
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />	
		<column name="ca_idmoneda" type="varchar" size="3" />
				
		
		<foreign-key foreignTable="tb_ciudades">
			<reference local="ca_idciudad" foreign="ca_idciudad"/>
		</foreign-key>			
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>								
	</table>
	
	<table name="tb_pricnotificaciones" phpName="PricNotificacion">		
		<column name="ca_idnotificacion" type="integer" required="true"  primaryKey="true" autoIncrement="true"/>					
		<column name="ca_titulo" type="varchar" required="true" />	
		<column name="ca_mensaje" type="varchar" required="true" />			
		<column name="ca_caducidad" type="date" />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" size="15" />				
	</table>
	
	<table name="tb_priccabotajes" phpName="PricCabotaje">		
		<column name="oid" type="integer" />
		<column name="ca_origen" type="varchar" required="true" primaryKey="true" />					
		<column name="ca_destino" type="varchar" required="true" primaryKey="true"/>	
		<column name="ca_idlinea" type="varchar" required="true" primaryKey="true"/>			
		<column name="ca_vlrkilo" type="numeric" />
		<column name="ca_vlrminimo" type="numeric" />	
		<column name="ca_maxpeso" type="numeric" />	
		<column name="ca_dimensiones" type="varchar" size="100" />	
		
		<foreign-key foreignTable="tb_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>
					
	</table>	

</database>

 