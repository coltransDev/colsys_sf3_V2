<?xml version="1.0" encoding="UTF-8"?>
<database name="propel" defaultIdMethod="native" noxsd="true" package="lib.model.pricing">	
	<table name="tb_trayectos" phpName="Trayecto">
		<column name="oid" type="integer" required="true"  />
		<column name="ca_idtrayecto" type="integer" primaryKey="true"  />			
		<column name="ca_origen" type="varchar" required="true" size="8"/>	
		<column name="ca_destino" type="varchar" required="true" size="8"/>	
		<column name="ca_idlinea" type="integer" required="true"/>		
		<column name="ca_transporte" type="varchar" required="true"  />
		<column name="ca_terminal" type="varchar" />
		<column name="ca_impoexpo" type="varchar" />
		<column name="ca_frecuencia" type="varchar" />
		<column name="ca_tiempotransito" type="varchar"  />
		<column name="ca_modalidad" type="varchar"   />
		<column name="ca_fchcreado" type="date"   />
		<column name="ca_idtarifas" type="integer"   />
		<column name="ca_observaciones" type="varchar"   />
		<column name="ca_idagente" type="integer"   />	
		<column name="ca_activo" type="boolean"   />				
					
		<foreign-key foreignTable="vi_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>	
		<foreign-key foreignTable="vi_agentes">
			<reference local="ca_idagente" foreign="ca_idagente"/>
		</foreign-key>		
	</table>
	
	<table name="tb_pricfletes" phpName="PricFlete">		
		<column name="ca_idtrayecto" type="integer" required="true"  primaryKey="true"/>			
		<column name="ca_idconcepto" type="integer" required="true" primaryKey="true"/>	
		<column name="ca_vlrneto" type="numeric" />		
		<column name="ca_vlrsugerido" type="numeric" />	
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_fchcreado" type="timestamp" />		
		<column name="ca_usucreado" type="varchar" />
		<column name="ca_estado" type="integer"   />	
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_consecutivo" type="integer"   />					
		<foreign-key foreignTable="tb_trayectos">
			<reference local="ca_idtrayecto" foreign="ca_idtrayecto"/>
		</foreign-key>	
		<foreign-key foreignTable="tb_conceptos">
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>								
	</table>	
	<!-- La tabla bs_pricfletes contiene los registros actuales y los historicos -->
	<table name="bs_pricfletes" phpName="PricFleteLog">		
		<column name="ca_idtrayecto" type="integer" required="true" />			
		<column name="ca_idconcepto" type="integer" required="true" />	
		<column name="ca_vlrneto" type="numeric" />		
		<column name="ca_vlrsugerido" type="numeric" />	
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_fchcreado" type="timestamp" />		
		<column name="ca_usucreado" type="varchar" />
		<column name="ca_estado" type="integer"   />	
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_consecutivo" type="integer" primaryKey="true" />		
		<foreign-key foreignTable="tb_trayectos">
			<reference local="ca_idtrayecto" foreign="ca_idtrayecto"/>
		</foreign-key>	
		<foreign-key foreignTable="tb_conceptos">
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>								
	</table>	
		
	<table name="tb_pricrecargosxconcepto" phpName="PricRecargoxConcepto">		
		<column name="ca_idtrayecto" type="integer" required="true"  primaryKey="true"/>			
		<column name="ca_idconcepto" type="integer" required="true" primaryKey="true"/>
		<column name="ca_idrecargo" type="integer" required="true" primaryKey="true"/>	
		<column name="ca_vlrrecargo" type="numeric" required="true"/>
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_vlrminimo" type="numeric" />	
		<column name="ca_aplicacion_min" type="varchar" />				
		<column name="ca_observaciones" type="varchar"   />	
		<column name="ca_idmoneda" type="varchar" size="3"   />	
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />
		<column name="ca_usucreado" type="varchar" />	
		<column name="ca_consecutivo" type="integer" />	
		<foreign-key foreignTable="tb_pricfletes">
			<reference local="ca_idtrayecto" foreign="ca_idtrayecto"/>
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>		
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>									
	</table>	
	
	<!-- La tabla bs_pricrecargosxconcepto contiene los registros actuales y los historicos -->
	<table name="bs_pricrecargosxconcepto" phpName="PricRecargoxConceptoLog">		
		<column name="ca_idtrayecto" type="integer" required="true" />			
		<column name="ca_idconcepto" type="integer" required="true" />
		<column name="ca_idrecargo" type="integer" required="true" />	
		<column name="ca_vlrrecargo" type="numeric" required="true" />
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_vlrminimo" type="numeric" />	
		<column name="ca_aplicacion_min" type="varchar" />				
		<column name="ca_observaciones" type="varchar"   />	
		<column name="ca_idmoneda" type="varchar" size="3"   />	
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />
		<column name="ca_usucreado" type="varchar" />			
		<column name="ca_consecutivo" type="integer" primaryKey="true" />	
		<foreign-key foreignTable="tb_pricfletes">
			<reference local="ca_idtrayecto" foreign="ca_idtrayecto"/>
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>		
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>									
	</table>	
	
	<table name="tb_pricarchivos" phpName="PricArchivo">		
		<column name="ca_idarchivo" type="varchar" required="true"  primaryKey="true" autoIncrement="true"/>		
		<id-method-parameter value="tb_pricarchivos_id"/>	
		<column name="ca_idtrafico" type="varchar" required="true" />
		<column name="ca_nombre" type="varchar" required="true" />	
		<column name="ca_descripcion" type="varchar" required="true" />
		<column name="ca_tamano" type="numeric" />
		<column name="ca_tipo" type="varchar" />	
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />		
		<column name="ca_datos" type="blob" />			
		<column name="ca_impoexpo" type="varchar" />		
		<column name="ca_transporte" type="varchar" />	
		<column name="ca_modalidad" type="varchar" />	
			
		<foreign-key foreignTable="tb_traficos">
			<reference local="ca_idtrafico" foreign="ca_idtrafico"/>
		</foreign-key>	
								
	</table>
	
	<table name="tb_pricrecargosxciudad" phpName="PricRecargosxCiudad">		
		<column name="ca_idtrafico" type="varchar" required="true"  primaryKey="true"/>
		<column name="ca_idciudad" type="varchar" required="true"  primaryKey="true"/>			
		<column name="ca_idrecargo" type="integer" required="true" primaryKey="true"/>
		<column name="ca_modalidad" type="varchar" required="true" primaryKey="true"/>
		<column name="ca_impoexpo" type="varchar" required="true" primaryKey="true"/>				
		<column name="ca_vlrrecargo" type="numeric" />
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_vlrminimo" type="numeric" />			
		<column name="ca_aplicacion_min" type="varchar" />
		<column name="ca_observaciones" type="varchar" />
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />	
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_consecutivo" type="integer" />		
		
		<foreign-key foreignTable="tb_ciudades">
			<reference local="ca_idciudad" foreign="ca_idciudad"/>
		</foreign-key>			
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>								
	</table>
	
	
	<!-- La tabla bs_pricrecargosxciudad contiene los registros actuales y los historicos -->
	<table name="bs_pricrecargosxciudad" phpName="PricRecargosxCiudadLog">		
		<column name="ca_idtrafico" type="varchar" required="true"  />
		<column name="ca_idciudad" type="varchar" required="true"  />			
		<column name="ca_idrecargo" type="integer" required="true" />
		<column name="ca_modalidad" type="varchar" required="true" />
		<column name="ca_impoexpo" type="varchar" required="true" />				
		<column name="ca_vlrrecargo" type="numeric" />
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_vlrminimo" type="numeric" />			
		<column name="ca_aplicacion_min" type="varchar" />
		<column name="ca_observaciones" type="varchar" />
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />	
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_consecutivo" type="integer" primaryKey="true" />
				
		<foreign-key foreignTable="tb_ciudades">
			<reference local="ca_idciudad" foreign="ca_idciudad"/>
		</foreign-key>			
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>								
	</table>
	
	
	<table name="tb_pricrecargosxlinea" phpName="PricRecargosxLinea">		
	    <column name="ca_idtrafico" type="varchar" required="true" primaryKey="true" />		
		<column name="ca_idlinea" type="varchar" required="true"  primaryKey="true"/>			
		<column name="ca_idrecargo" type="integer" required="true" primaryKey="true"/>
		<column name="ca_idconcepto" type="integer" required="true" primaryKey="true" />
		<column name="ca_modalidad" type="varchar" required="true" primaryKey="true"/>
		<column name="ca_impoexpo" type="varchar" required="true" primaryKey="true"/>
						
		<column name="ca_vlrrecargo" type="numeric" />
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_vlrminimo" type="numeric" />			
		<column name="ca_aplicacion_min" type="varchar" />
		<column name="ca_observaciones" type="varchar" />
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />	
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_consecutivo" type="integer" />		
		
		<foreign-key foreignTable="vi_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>		
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>		
		
		<foreign-key foreignTable="tb_conceptos">
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>	
										
	</table>
	
	
	<!-- La tabla bs_pricrecargosxciudad contiene los registros actuales y los historicos -->
	<table name="bs_pricrecargosxlinea" phpName="PricRecargosxLineaLog">	
	    <column name="ca_idtrafico" type="varchar" required="true"  />	
		<column name="ca_idlinea" type="varchar" required="true"  />			
		<column name="ca_idrecargo" type="integer" required="true" />
		<column name="ca_idconcepto" type="integer" required="true" />
		<column name="ca_modalidad" type="varchar" required="true" />
		<column name="ca_impoexpo" type="varchar" required="true" />				
		<column name="ca_vlrrecargo" type="numeric" />
		<column name="ca_aplicacion" type="varchar" />	
		<column name="ca_vlrminimo" type="numeric" />			
		<column name="ca_aplicacion_min" type="varchar" />
		<column name="ca_observaciones" type="varchar" />
		<column name="ca_fchinicio" type="date"   />
		<column name="ca_fchvencimiento" type="date"   />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />	
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_consecutivo" type="integer" primaryKey="true" />
				
		<foreign-key foreignTable="vi_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>	
		<foreign-key foreignTable="tb_tiporecargo">
			<reference local="ca_idrecargo" foreign="ca_idrecargo"/>
		</foreign-key>	
		
		<foreign-key foreignTable="tb_conceptos">
			<reference local="ca_idconcepto" foreign="ca_idconcepto"/>
		</foreign-key>							
	</table>

	<table name="tb_pricrecargosparametros" phpName="PricRecargoParametro">	   
		<column name="ca_idlinea" type="varchar" required="true" primaryKey="true" />	
		<column name="ca_transporte" type="varchar" required="true" primaryKey="true" />		
		<column name="ca_modalidad" type="varchar" required="true" primaryKey="true" />
		<column name="ca_impoexpo" type="varchar" required="true" primaryKey="true" />				
		<column name="ca_concepto" type="varchar" required="true" primaryKey="true"/>
		<column name="ca_valor" type="varchar" />	
		<column name="ca_observaciones" type="varchar" />		
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" />					
		<foreign-key foreignTable="vi_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>			
	</table>
	
	
	<table name="tb_pricnotificaciones" phpName="PricNotificacion">		
		<column name="ca_idnotificacion" type="integer" required="true"  primaryKey="true" autoIncrement="true"/>	
		<id-method-parameter value="tb_pricnotificaciones_id"/>						
		<column name="ca_titulo" type="varchar" required="true" />	
		<column name="ca_mensaje" type="varchar" required="true" />			
		<column name="ca_caducidad" type="date" />
		<column name="ca_fchcreado" type="timestamp" />	
		<column name="ca_usucreado" type="varchar" size="15" />				
	</table>
	
	<table name="tb_pricseguros" phpName="PricSeguro">		
		<column name="ca_idgrupo" type="integer" required="true" primaryKey="true"/>
		<column name="ca_transporte" type="varchar" required="true" primaryKey="true" />					
		
		<column name="ca_vlrprima" type="numeric" />
		<column name="ca_vlrminima" type="numeric" />	
		<column name="ca_vlrobtencionpoliza" type="numeric" />	
		<column name="ca_idmoneda" type="varchar" size="3" />
		<column name="ca_observaciones" type="varchar" />		
		<column name="ca_fchcreado" type="timestamp" />
		<column name="ca_usucreado" type="varchar" />
					
		<foreign-key foreignTable="tb_grupos">
			<reference local="ca_idgrupo" foreign="ca_idgrupo"/>
		</foreign-key>
	</table>	
	
	
	<table name="tb_pricpatios" phpName="PricPatio">		
		<column name="ca_idpatio" type="integer" required="true" primaryKey="true" autoIncrement="true"/>
		<id-method-parameter value="tb_pricpatios"/>	
		<column name="ca_nombre" type="varchar" />
		<column name="ca_idciudad" type="varchar" />	
		<column name="ca_direccion" type="varchar" />	
		
		<foreign-key foreignTable="tb_ciudades">
			<reference local="ca_idciudad" foreign="ca_idciudad"/>
		</foreign-key>
	</table>	
	
	
	<table name="tb_pricpatioslinea" phpName="PricPatioLinea">		
		<column name="ca_idpatio" type="integer" required="true" primaryKey="true"/>
		<column name="ca_idlinea" type="varchar"  required="true" primaryKey="true" />
		<column name="ca_transporte" type="varchar"  required="true" primaryKey="true" />
		<column name="ca_modalidad" type="varchar"  required="true" primaryKey="true" />
		<column name="ca_impoexpo" type="varchar"  required="true" primaryKey="true" />
		<column name="ca_observaciones" type="varchar" />	
			
		<foreign-key foreignTable="tb_pricpatios">
			<reference local="ca_idpatio" foreign="ca_idpatio"/>
		</foreign-key>
		<foreign-key foreignTable="vi_transporlineas">
			<reference local="ca_idlinea" foreign="ca_idlinea"/>
		</foreign-key>	
	</table>	
	
</database>

 