<?php

/**
 * InoEquipo
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    symfony
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 6820 2009-11-30 17:27:49Z jwage $
 */
class InoEquipo extends BaseInoEquipo
{
    
    public function calcularLimDevolucion($fchllegada, $conn) {
        
        $dias_libres = $this->getDatosJson("dias_libres") - 1;
        $fchllegada = date("Y-m-d", strtotime($fchllegada));    
    
        $fchlimite = strtotime ( '+'.$dias_libres.' day' , strtotime ($fchllegada) ) ;
        $fchlimite = date('Y-m-d', $fchlimite);
        
        $this->setDatosJson("fecha_arribo", $fchllegada );
        $this->setDatosJson("limite_devolucion", $fchlimite );
        $this->save($conn);
        
    }
}
