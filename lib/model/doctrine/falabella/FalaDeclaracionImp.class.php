<?php

/**
 * FalaDeclaracionImp
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @package    symfony
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 6820 2009-11-30 17:27:49Z jwage $
 */
class FalaDeclaracionImp extends BaseFalaDeclaracionImp
{
    public function getValorFobDeclaracion(){
        $valor_fob = Doctrine::getTable("FalaDeclaracionDts")
                       ->createQuery("d")
                       ->select("sum(ca_valor_fob)")
                       ->where("ca_referencia = ? ", $this->getCaReferencia())
                       ->setHydrationMode(Doctrine::HYDRATE_SINGLE_SCALAR)
                       ->execute();
        return $valor_fob;
    }

    public function getValorFobSkus(){
        $valor_fob = Doctrine::getTable("FalaDetailAdu")
                       ->createQuery("d")
                       ->innerJoin("d.FalaHeaderAdu h")
                       ->select("sum(d.ca_valor_fob)")
                       ->where("h.ca_referencia = ? ", $this->getCaReferencia())
                       ->setHydrationMode(Doctrine::HYDRATE_SINGLE_SCALAR)
                       ->execute();
        return $valor_fob;
    }
}
